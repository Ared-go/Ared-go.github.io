{"version":3,"sources":["webpack:///./src/views/user/index.vue?924b","webpack:///./src/views/user/index.vue?eef6","webpack:///src/views/user/index.vue","webpack:///./src/views/user/index.vue?f149","webpack:///./src/views/user/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","on","getUser","model","value","queryInfo","callback","$$v","$set","expression","slot","addDialog","staticStyle","userData","scopedSlots","_u","key","fn","scope","row","$event","editDialogUser","id","removeUser","page","pagesize","total","handleSizeChange","handleCurrentChange","addVisible","addClose","ref","addForm","addFormRules","addUser","editVisible","editResetClose","editForm","editFormRules","editUserInfo","staticRenderFns","name","data","query","username","password","mobile","email","created","console","log","methods","newSize","current","$refs","addFormRef","resetFields","validate","editFormRef","component"],"mappings":"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","file":"js/chunk-51d07329.b81aed05.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2a447ba6&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2a447ba6&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":10}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"size\":\"small\",\"clearable\":\"\"},on:{\"clear\":_vm.getUser,\"change\":_vm.getUser},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUser},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addDialog}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userData,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"width\":\"150px\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"电话\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{model:{value:(scope.row.msg_state),callback:function ($$v) {_vm.$set(scope.row, \"msg_state\", $$v)},expression:\"scope.row.msg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"操作\",\"width\":\"160px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editDialogUser(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.removeUser(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"content\":\"权限分配\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-s-tools\",\"circle\":\"\",\"size\":\"small\"}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.page,\"page-sizes\":[1,3,4, 5, 6],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.queryInfo, \"page\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.queryInfo, \"page\", $event)}}})],1),_c('el-dialog',{attrs:{\"title\":\"增加用户\",\"visible\":_vm.addVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addVisible=$event},\"close\":_vm.addClose}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editVisible=$event},\"close\":_vm.editResetClose}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名称\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- <h2>用户管理页面</h2> -->\n    <el-card>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"10\">\n            <el-input placeholder=\"请输入内容\" size=\"small\" v-model=\"queryInfo.query\" clearable @clear=\"getUser\" @change=\"getUser\" >\n              <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUser\"></el-button>\n            </el-input>\n          </el-col>\n          <el-col :span=\"4\">\n             <el-button type=\"primary\" size=\"small\" @click =\"addDialog\">添加用户</el-button>\n          </el-col>\n        </el-row>\n        <el-table\n          :data=\"userData\"\n          border\n          stripe\n          style=\"width: 100%\">\n          <el-table-column\n            type=\"index\"\n            label=\"#\">\n          </el-table-column>\n          <el-table-column\n            prop=\"username\"\n            label=\"用户名\">\n          </el-table-column>\n          <el-table-column\n            prop=\"email\"\n            label=\"邮箱\"\n            width=\"150px\"\n            >\n          </el-table-column>\n          <el-table-column\n            prop=\"mobile\"\n            label=\"电话\">\n          </el-table-column>\n          <el-table-column\n            prop=\"role_name\"\n            label=\"角色\">\n          </el-table-column>\n          <el-table-column\n            label=\"状态\">\n            <template v-slot=\"scope\">\n              <!-- {{scope.row}} -->\n              <el-switch\n              v-model=\"scope.row.msg_state\">\n              </el-switch>\n            </template>\n          </el-table-column>\n           <el-table-column\n            prop=\"role_name\"\n            label=\"操作\"\n            width=\"160px\">\n            <template v-slot=\"scope\">\n                <el-button type=\"primary\" icon=\"el-icon-edit\" circle  size=\"small\" @click=\"editDialogUser(scope.row.id)\"></el-button>\n                <el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"small\" @click=\"removeUser(scope.row.id)\"></el-button>\n                <el-tooltip content=\"权限分配\" placement=\"top\" :enterable=\"false\">\n                  <el-button type=\"warning\"  icon=\"el-icon-s-tools\" circle size=\"small\"></el-button>\n                </el-tooltip>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\" \n          :current-page.sync=\"queryInfo.page\"\n          :page-sizes=\"[1,3,4, 5, 6]\"\n          :page-size=\"queryInfo.pagesize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n        </el-pagination>\n    </el-card>\n    <!-- 增加用户对话框 -->\n    <el-dialog\n      title=\"增加用户\"\n      :visible.sync=\"addVisible\"\n      width=\"50%\"\n      @close=\"addClose\">\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\">\n        <el-form-item label=\"用户名称\" prop=\"username\">\n          <el-input v-model=\"addForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"addForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"电话\" prop=\"mobile\">\n          <el-input v-model=\"addForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\">\n        <el-button @click=\"addVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 修改用户对话框 -->\n    <el-dialog\n      title=\"修改用户\"\n      :visible.sync=\"editVisible\"\n      width=\"50%\"\n      @close=\"editResetClose\">\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"100px\">\n        <el-form-item label=\"用户名称\">\n          <el-input v-model=\"editForm.username\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"电话\" prop=\"mobile\">\n          <el-input v-model=\"editForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\">\n        <el-button @click=\"editVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name:\"user\",\n  data(){\n  var checkemail = (rule,value,cb) => {\n    // 验证邮箱的正则表达式\n    const regEmail = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\\.[a-zA-Z0-9_-])+/;\n    if(regEmail.test(value)) {\n      // 合法的邮箱  \n      return cb();\n    }\n    cb(new Error('请输入合法的验证规则'));\n  }\n  var checkmobile = (rule, value,cb) => {\n    const regMobile = /^1[3|4|5|7|8]\\d{9}$/;\n    if(regMobile.test(value)) {\n      // 合法的电话\n      return cb();\n    }\n    cb(new Error('请输入合法的手机号'));\n  };\n    return {\n      userData: [],\n      // 总条数\n      total: 0,\n      queryInfo: {\n        query:'',\n        page: 1,\n        pagesize: 5\n      },\n      // 控制添加用户对话框的显示与隐藏\n      addVisible: false,\n      // 控制修改用户对话框的显示与隐藏\n      editVisible:false,\n      addForm: {\n        username:'',\n        password:'',\n        mobile:'',\n        email:''\n      },\n      // 查询到的用户信息对象\n      editForm: {},\n      // 添加用户的表单验证对象\n      addFormRules: {\n        username: [\n            { required: true, message: '请输入用户名称', trigger: 'blur'},\n            { min: 3, max: 10, message: '长度在 3 到 5 个字符', trigger: 'blur'}\n        ],\n        email: [\n            { required: true, message: '请输入邮箱', trigger: 'blur'},\n            { validator: checkemail, trigger: 'blur' }\n        ],\n        mobile: [\n            { required: true, message: '请输入用户电话', trigger: 'blur'},\n            { validator: checkmobile, trigger: 'blur' }\n        ]\n      },\n      // 修改用户表单验证的对象\n      editFormRules: {\n        email: [\n            { required: true, message: '请输入邮箱', trigger: 'blur'},\n            { validator: checkemail, trigger: 'blur' }\n        ],\n        mobile: [\n            { required: true, message: '请输入用户手机号码', trigger: 'blur'},\n            { validator: checkmobile, trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created() {\n    this.getUser();\n    console.log('重新渲染页面了吗');\n  },\n  methods: {\n    // 获取用户列表数据\n    async getUser() {\n      const {data:res} = await this.$http.get('/user/get_user',{params:this.queryInfo});\n      console.log(res);\n      if(res.code !== 0) return this.$message.error('获取数据失败');\n      this.userData = res.data.userList;\n      this.total = res.data.totalNum;\n      // this.queryInfo.page = parseInt(res.data.page);\n      // this.handleCurrentChange(this.queryInfo.page);\n      // console.log(this.userData);\n      // console.log(parseInt(res.data.page));\n      // console.log(this.queryInfo.page);\n    },\n    // 页面尺寸发生变化时触发 // 每页多少\n    handleSizeChange(newSize) {\n      console.log('每页'+newSize);\n      this.queryInfo.pagesize = newSize;\n      console.log(this.queryInfo.pagesize);\n      this.getUser();\n    },\n    // 当前页面发生变化时触发\n    handleCurrentChange(current) {\n      console.log('当前页'+current);\n      this.queryInfo.page = current;\n      console.log(this.queryInfo.page);\n      this.getUser();\n    },\n    // 显示用户添加对话框\n    addDialog() {\n      this.addVisible = true\n    },\n    addClose() {\n      // 重置表单项\n      // console.log(this.$refs);\n      this.$refs.addFormRef.resetFields();\n    },\n    addUser() {\n      // 表单提交的预验证\n      this.$refs.addFormRef.validate( async valid => {\n        if(!valid) {\n          // 表单验证失败\n          return ;\n        }\n        // 表单验证成功 向服务器端发起请求\n        const {data: res} = await this.$http.post('/user/add',this.addForm); \n        console.log(res);\n        if(res.code !==0) return this.$message.error('添加数据失败');\n        this.$message.success('添加数据成功');\n        // 隐藏添加用户对话框\n        this.addVisible = false;\n        // 重新获取用户的数据\n        this.getUser();\n      });\n    },\n     // 修改用户\n    async editDialogUser(id) {\n      console.log(id);\n      const {data: res} = await this.$http.get('/user/query_user',{params:{id:id}}); // {params:{id:id}}\n      console.log(res);\n      if(res.code !== 0) return this.$message.error('查询用户信息失败');\n      this.editForm = res.data;\n      this.editVisible = true;\n      console.log(this.editForm);\n\n    },\n    // 重置修改用户对话框\n    editResetClose(){\n      console.log(this)\n      this.$refs.editFormRef.resetFields();\n    },\n     editUserInfo() {\n      this.$refs.editFormRef.validate( async valid => {\n        if(!valid) return;\n        const {data:res} =  await this.$http.put('/user/editeUser?id='+this.editForm.id,{email:this.editForm.email,mobile: this.editForm.mobile});\n        if(res.code !== 0) {\n          return this.$message.error('修改用户信息失败');\n        }\n        // 关闭对话框\n        this.editVisible = false;\n        // 重新渲染用户信息列表\n        this.getUser();\n        // 提示数据修改成功\n        this.$message.success('修改用户信息成功');\n      });\n    },\n   async removeUser(id) {\n      // 弹框询问用户是否删除数据\n       const res = await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).catch( err => err)\n        if(res !== 'confirm') {\n          // 取消删除\n          return this.$message.info('已取消删除');\n        }\n        const {data: result} = await this.$http.delete('/user/deleteUser?id='+id);\n         if(result.code !== 0) {\n          return this.$message.error('删除用户信息失败');\n        }\n        // 提示用户\n        this.$message.success('删除用户信息成功');\n        // 刷新数据\n        this.getUser();\n        console.log(result);\n    }\n  }\n}\n</script>\n<style lang='less' scoped>\n/*\n.user {\n    .el-card {\n      box-shadow: 0px 1px 1px rgba(0,0,0,0.15);\n    }\n}\n*/\n\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2a447ba6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2a447ba6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a447ba6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}